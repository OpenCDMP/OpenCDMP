<div mat-dialog-title class="d-flex align-items-center">
	<div class="field-set-title">{{numberingText}} {{fieldSet.title}}</div>
        <button mat-icon-button class="ml-auto" (click)="cancel()" [attr.aria-label]="'ALT-TEXT.CLOSE-DIALOG'  | translate">
            <mat-icon aria-hidden>close</mat-icon>
        </button>
</div>
<div mat-dialog-content>
	<ng-container *ngIf="fieldSet && propertiesFormGroup" class="row">
        <div class="col-12 mb-2">
            <app-description-form-field-set-title [fieldSet]="fieldSet" [path]="path" [hideTitle]="true"></app-description-form-field-set-title>
        </div>
        <div *ngFor="let field of fieldSet.fields; let i = index;" class="col-12 fieldSet pb-2">
            @if(visibilityRulesService && visibilityRulesService.isVisibleMap[field.id + '_' + currentFieldsetValue?.ordinal] ?? true){
                <div class="row">
                    <h5 *ngIf="placeholderTitle" class="col-auto font-weight-bold">{{field.label}}</h5>
                </div>
                <div class="row">
                    <div class="col-12">
                        <app-description-form-field [propertiesFormGroup]="propertiesFormGroup.get('fields')" [field]="field" [fieldSet]="fieldSet"  [visibilityRulesService]="visibilityRulesService" [isChild]="true"></app-description-form-field>
                    </div>
                </div>
            }
        </div>
	</ng-container>
</div>

<div mat-dialog-actions class="row">
	<div class="ml-auto col-auto"><button mat-stroked-button color="primary" class="padded-shadow-btn" (click)="cancel()">{{'DESCRIPTION-EDITOR.ACTIONS.CANCEL' | translate}}</button></div>
	<div class="col-auto"><button mat-flat-button color="primary" class="padded-shadow-btn" [disabled]="!propertiesFormGroup.touched" (click)="save()">{{'DESCRIPTION-EDITOR.ACTIONS.SAVE' | translate}}</button></div>
</div>
